

Fri Jul 19 13:51:36 2019
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.4.132-1072-rockchip-ayufan-ga1d27dba5a2e (#1 SMP Sat Jul 21 20:18:03 UTC 2018) aar
Compiler: GCC 7.2
ext2fs lib: 1.44.1, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.0
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/sda - 32 GB / 29 GiB - CHS 30533 64 32, sector size=512 - SK hynix SC215 M.2 2242, FW:0202

Partition table type (auto): EFI GPT
Disk /dev/sda - 32 GB / 29 GiB - SK hynix SC215 M.2 2242
Partition table type: EFI GPT

Interface Advanced
hdr_size=92
hdr_lba_self=1
hdr_lba_alt=62533295 (expected 62533295)
hdr_lba_start=34
hdr_lba_end=62533262
hdr_lba_table=2
hdr_entries=128
hdr_entsz=128
 1 P Unknown                       64       8063       8000 [loader1]
 2 P Unknown                     8064       8191        128 [reserved1]
 3 P Unknown                     8192      16383       8192 [reserved2]
 4 P Unknown                    16384      24575       8192 [loader2]
 5 P Unknown                    24576      32767       8192 [atf]
 6 P MS Data                    32768     262143     229376 [boot] [boot]
     FAT16, blocksize=2048, 117 MB / 112 MiB
 7 P Unknown                   262144   62533262   62271119 [root]
No space left for the file image.

Analyse Disk /dev/sda - 32 GB / 29 GiB - CHS 30533 64 32
hdr_size=92
hdr_lba_self=1
hdr_lba_alt=62533295 (expected 62533295)
hdr_lba_start=34
hdr_lba_end=62533262
hdr_lba_table=2
hdr_entries=128
hdr_entsz=128
Current partition structure:
 1 P Unknown                       64       8063       8000 [loader1]
 2 P Unknown                     8064       8191        128 [reserved1]
 3 P Unknown                     8192      16383       8192 [reserved2]
 4 P Unknown                    16384      24575       8192 [loader2]
 5 P Unknown                    24576      32767       8192 [atf]
check_FAT: Unusual number of reserved sectors 4 (FAT), should be 1.
 6 P MS Data                    32768     262143     229376 [boot] [boot]
 7 P Unknown                   262144   62533262   62271119 [root]

search_part()
Disk /dev/sda - 32 GB / 29 GiB - CHS 30533 64 32
FAT16 at 16/0/1
check_FAT: Unusual number of reserved sectors 4 (FAT), should be 1.
FAT1 : 4-227
FAT2 : 228-451
start_rootdir : 452
Data : 484-229375
sectors : 229376
cluster_size : 4
no_of_cluster : 57223 (2 - 57224)
fat_length 224 calculated 224

FAT16 at 16/0/1
     MS Data                    32768     262143     229376 [boot]
     FAT16, blocksize=2048, 117 MB / 112 MiB

recover_EXT2: s_block_group_nr=0/237, s_mnt_count=10/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 7783889
recover_EXT2: part_size 62271112
     MS Data                   262144   62533255   62271112 [linux-root]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 31 GB / 29 GiB

Results
   P MS Data                    32768     262143     229376 [boot]
     FAT16, blocksize=2048, 117 MB / 112 MiB
   P MS Data                   262144   62533255   62271112 [linux-root]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 31 GB / 29 GiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 229376 linear /dev/sda 32768" | dmsetup create test0
echo "0 62271112 linear /dev/sda 262144" | dmsetup create test1

interface_write()
 1 P MS Data                    32768     262143     229376 [boot]
 2 P MS Data                   262144   62533255   62271112 [linux-root]

search_part()
Disk /dev/sda - 32 GB / 29 GiB - CHS 30533 64 32
FAT16 at 16/0/1
check_FAT: Unusual number of reserved sectors 4 (FAT), should be 1.
FAT1 : 4-227
FAT2 : 228-451
start_rootdir : 452
Data : 484-229375
sectors : 229376
cluster_size : 4
no_of_cluster : 57223 (2 - 57224)
fat_length 224 calculated 224

FAT16 at 16/0/1
     MS Data                    32768     